# Building artery and PVS meshes from a VTP model

## 1. Input file : `<input_file>.vtp`
[for example : model.vtp files from AneuriskWeb : http://ecm2.mathcs.emory.edu/aneuriskweb]

* To consider only a part/clip of the initial domain :
    * Open <input_file>.vtp in Paraview (https://www.paraview.org/)
    * Use "Clip" feature to select the part of interest
    * Apply "Extract Surface" filter on that "Clip"
    * Save Data - VTP format

## 2. Configure the bash script generate_meshes.sh
* Input file :  
    `VTP_FILE=<path_to_input_file>/<input_file>.vtp`
* Name for the (optional, used when EXT=true) .vtp file generated by VMTK (extensions to get smoother inlet/outlets) :  
    `VTP_FILE_EXT=<path_to_input_file>/<input_file_ext>.vtp`
* Name to the output xdmf file(s) [no extension] :  
    `OFILE=$PWD/test`
* Optional extentions :  
    `EXT=<true or false>`
* Extracting PVS domain only :  
    `PVS_ONLY=<true or false>`
* Mesh size :  
    `EDGE_LENGTH=<edge length>`
* PVS thickness (array) :  
    `PVS_THICKNESS=(<thickness1> <thickness2> ...)`
* Generating centerline 1D mesh with embedded data :  
    `CENTERLINE_MESH=<true or false>`

## 3. Run the script
```
bash generate_meshes.sh
```